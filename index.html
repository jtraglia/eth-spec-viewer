<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ethereum Consensus Specifications</title>
  <link rel="stylesheet" href="styles.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <header class="header-container">
    <h1>Ethereum Consensus Specifications</h1>

    <div class="toggle-container" role="group" aria-label="Theme toggle">
      <i class="fas fa-sun" aria-hidden="true"></i>
      <label class="toggle-switch" for="darkModeToggle">
        <input type="checkbox" id="darkModeToggle" aria-label="Toggle dark mode">
        <span class="toggle-slider" aria-hidden="true"></span>
      </label>
      <i class="fas fa-moon" aria-hidden="true"></i>
    </div>
  </header>

  <nav class="controls-container" role="navigation" aria-label="Search and filter controls">
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="Search specifications..." aria-label="Search specifications">
      <button id="searchClear" class="hidden" aria-label="Clear search">&times;</button>
    </div>

    <div class="filter-container">
      <select id="forkFilter" class="filter-select" aria-label="Filter by fork">
        <option value="">Filter by fork...</option>
        <option value="PHASE0">Phase 0</option>
        <option value="ALTAIR">Altair</option>
        <option value="BELLATRIX">Bellatrix</option>
        <option value="CAPELLA">Capella</option>
        <option value="DENEB">Deneb</option>
        <option value="ELECTRA">Electra</option>
        <option value="FULU">Fulu</option>
      </select>

      <select id="changeFilter" class="filter-select" aria-label="Filter by changes">
        <option value="">Filter by changes...</option>
        <option value="PHASE0">Changed in Phase 0</option>
        <option value="ALTAIR">Changed in Altair</option>
        <option value="BELLATRIX">Changed in Bellatrix</option>
        <option value="CAPELLA">Changed in Capella</option>
        <option value="DENEB">Changed in Deneb</option>
        <option value="ELECTRA">Changed in Electra</option>
        <option value="FULU">Changed in Fulu</option>
      </select>

      <select id="typeFilter" class="filter-select" aria-label="Filter by type">
        <option value="">Filter by type...</option>
        <option value="constant_vars">Constants</option>
        <option value="preset_vars">Preset Variables</option>
        <option value="config_vars">Configuration Variables</option>
        <option value="custom_types">Custom Types</option>
        <option value="dataclasses">Dataclasses</option>
        <option value="ssz_objects">SSZ Objects</option>
        <option value="functions">Functions</option>
      </select>

      <button id="applyFilters" class="filter-button">Apply Filters</button>
      <button id="clearFilters" class="filter-button">Clear Filters</button>
    </div>
  </nav>

  <div id="activeFilters" class="filter-container"></div>

  <div id="toggleDiffContainer" class="toggle-container hidden">
    <label>
      Show diff between upgrades
      <input type="checkbox" id="showDiffToggle" class="show-diff-checkbox" aria-label="Show diff between upgrades">
    </label>
  </div>

  <main role="main" aria-label="Ethereum Consensus Specifications">
    <section>
      <details>
        <summary>
          <span class="summary-icon"></span>
          Constants
        </summary>
        <div id="constant_vars"></div>
      </details>
    </section>

    <section>
      <details>
        <summary>
          <span class="summary-icon"></span>
          Preset Variables
        </summary>
        <div id="preset_vars"></div>
      </details>
    </section>

    <section>
      <details>
        <summary>
          <span class="summary-icon"></span>
          Configuration Variables
        </summary>
        <div id="config_vars"></div>
      </details>
    </section>

    <section>
      <details>
        <summary>
          <span class="summary-icon"></span>
          Custom Types
        </summary>
        <div id="custom_types"></div>
      </details>
    </section>

    <section>
      <details>
        <summary>
          <span class="summary-icon"></span>
          Dataclasses
        </summary>
        <div id="dataclasses"></div>
      </details>
    </section>

    <section>
      <details>
        <summary>
          <span class="summary-icon"></span>
          SSZ Objects
        </summary>
        <div id="ssz_objects"></div>
      </details>
    </section>

    <section>
      <details>
        <summary>
          <span class="summary-icon"></span>
          Functions
        </summary>
        <div id="functions"></div>
      </details>
    </section>

    <div id="noResults" class="no-results hidden">No results found for your search criteria.</div>
  </main>

  <script type="module" src="js/main.js"></script>
